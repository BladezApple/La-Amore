<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Checkout</title>
    <meta
      name="description"
      content="Done picking items from our Store? Checkout now!"
    />

    <link rel="canonical" href="https://laamore.store/pages/checkout/" />

    <!-- Favicon -->
    <link rel="icon" href="/images/Logo White.png" media="(prefers-color-scheme: dark)"/>
    <link rel="icon" href="/images/Logo Black.png" media="(prefers-color-scheme: light)"/>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/stylesheets/mainsheet.css" />
    <link rel="stylesheet" href="/stylesheets/checkoutsheet.css" />
    <link rel="stylesheet" href="/stylesheets/cart-styles.css">

    <!--SEO Extras-->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#A07F08" />

    <script type="application/ld+json">
      [
        {
          "@context": "https://schema.org",
          "@type": "Organization",
          "name": "La Amore",
          "url": "https://laamore.store",
          "logo": "https://laamore.store/favicon-512x512.png",
          "sameAs": [
            "https://www.instagram.com/la.amore_official/",
            "https://www.facebook.com/profile.php?id=61578105007162",
            "https://www.youtube.com/@la.amore_official"
          ],
          "description": "La Amore is a premium online clothing brand based in Pakistan, offering luxurious and stylish hoodies for modern individuals.",
          "founder": "Muhammad Ahmad Saleem",
          "foundingDate": "2024",
          "location": {
            "@type": "Place",
            "address": {
              "@type": "PostalAddress",
              "addressLocality": "Lahore",
              "addressCountry": "PK"
            }
          }
        },
        {
          "@context": "https://schema.org",
          "@type": "Product",
          "name": "Casual and Premium Hoodies",
          "image": "https://laamore.store/favicon-512x512.png",
          "description": "La Amore offers a curated collection of premium and casual hoodies, blending luxury with everyday comfort for the modern wardrobe.",
          "brand": {
            "@type": "Brand",
            "name": "La Amore"
          },
          "offers": {
            "@type": "AggregateOffer",
            "url": "https://laamore.store",
            "priceCurrency": "USD",
            "lowPrice": "72",
            "highPrice": "150",
            "offerCount": "10"
          }
        }
      ]
    </script>

  </head>

  <body>
    <div id="header"></div>
    <div id="navigation"></div>

    <div id="checkout-page">

    <div id="checkout-tab">
      <div id="user-details">
        <form id="user-info" action="https://formspree.io/f/xnnzlbbj">
          <h2 class="info-heading">Contact</h2>
          <input type="email" id="email" class="info-input" name="email" placeholder="Email Address" required>
          <input type="tel" id="contact" class="info-input" name="contact" placeholder="Contact Number">

          <h2 class="info-heading">Delivery</h2>
          <input type="text" id="city" class="info-input" name="city" placeholder="City" required>
          <input type="text" id="country" class="info-input" name="country" placeholder="Country/Region" required>
          <input type="text" id="firstname" class="info-input" name="firstname" placeholder="First Name" required>
          <input type="text" id="lastname" class="info-input" name="lastname" placeholder="Last Name" required>
          <input type="text" id="address" class="info-input" name="address" placeholder="Delivery Address" required>
          <input type="text" id="notes" class="info-input" name="notes" placeholder="Additional Notes">

          <h2 class="info-heading">Shipping</h2>
          <div id="local-shipping-container">
            <p>Local Shipping</p>
            <p class="shipping-price">Rs 300.00</p>
          </div>

          <div id="international-shipping-container">
            <p>International Shipping</p>
            <p class="shipping-price">USD 15.00</p>
          </div>

          <h2 class="info-heading">Payment Methods</h2>
          <div class="payment-container">
            <div class="payment-options">
              <div class="payment-option selected" onclick="selectPayment(this)">
                <div class="payment-option-content">
                  <div class="payment-option-left">
                    <div class="payment-radio"></div>
                    <span class="payment-option-text">Payoneer</span>
                  </div>
                  <div class="payment-logos">
                    <div class="payoneer-logo-container">
                      <img class="payoneer-logo" src="/images/payoneer.png" alt="Payoneer">
                    </div>
                  </div>
                </div>

                <div class="method-details">
                  <p class="method-text">
                  An Invoice will be sent to your entered email within 24 hours.<br>
                  To obtain an invoice on a different email, please Contact Us!
                  </p>
                </div>
              </div>

              <div class="payment-option" onclick="selectPayment(this)">
                <div class="payment-option-content">
                  <div class="payment-option-left">
                    <div class="payment-radio"></div>
                    <span class="payment-option-text">Easypaisa</span>
                  </div>
                  <div class="payment-logos">
                    <div class="payment-logo">
                      <img class="Logo" src="/images/easypaisa.png" alt="Easypaisa">
                    </div>
                  </div>
                </div>

                <div class="method-details">
                  <p class="method-text">
                  Pay your Order Total Amount to the following Account:<br>
                  03341431021
                  </p>
                </div>
              </div>

              <div class="payment-option" onclick="selectPayment(this)">
                <div class="payment-option-content">
                    <div class="payment-option-left">
                      <div class="payment-radio"></div>
                      <span class="payment-option-text">Paypal</span>
                    </div>
                    <div class="payment-logos">
                      <div class="payment-logo">
                        <img class="Logo" src="/images/Paypal.png" alt="Paypal">
                      </div>
                    </div>
                </div>

                <div class="method-details">
                  <p class="method-text">
                    Paypal is only available for customers that do not have access<br>
                  to all other payment methods. To use Paypal, please Contact Us!
                  </p>
                </div>
              </div>
            </div>

            <p class="note">Note: Please submit your Order Total Amount to the above designated PayPal
                Email for International Orders, or Easypaisa number for Local Orders. Make sure to write your
                Order ID in the payment note, for ease of Order confirmation.
                <br>
                <br>
                We only accept payments in advance, as all clothing is custom designed and produced.
            </p>
          </div>

          <button id="submit-button" type="submit">
              Confirm Order
            </button>
        </form>
      </div>
    </div>

    <div id="cart-details">
    </div>

    </div>

    <div id="footer"></div>

    
<!-- Add this to your checkout page, replacing the existing script section -->
<script src="/js code/loader.js" type="module"></script>
<script src="/js code/firebase-config.js" type="module"></script>
<script src="/js code/cartdetails.js" type="module"></script>
<script src="/js code/cart-display.js" type="module"></script>

<script type="module">
// Updated script section for your checkout page HTML
// Replace the existing script section with this:

import { initializeCheckoutDisplay } from '/js code/checkout-display.js';
import { initializeFormHandler } from '/js code/form-handler.js';
import { updateShippingDisplay } from '/js code/checkout-display.js';

const countryInput = document.getElementById('country');
const cityInput = document.getElementById('city');
const localShippingContainer = document.getElementById('local-shipping-container');
const internationalShippingContainer = document.getElementById('international-shipping-container');

const pakistanKeywords = [
'pakistan', 'pk', 'pak', 'پاکستان', 'islamic republic of pakistan'
];

const pakistaniCities = [
'karachi', 'lahore', 'islamabad', 'rawalpindi', 'faisalabad', 'multan', 
'peshawar', 'quetta', 'sialkot', 'gujranwala', 'hyderabad', 'bahawalpur',
'sargodha', 'sukkur', 'larkana', 'sheikhupura', 'jhang', 'rahimyar khan',
'gujrat', 'kasur', 'mardan', 'mingora', 'dera ghazi khan', 'sahiwal',
'nawabshah', 'okara', 'mirpur khas', 'chiniot', 'kamoke', 'sadiqabad',
'burewala', 'jacobabad', 'muzaffargarh', 'khanewal', 'hafizabad',
'kohat', 'turbat', 'dera ismail khan', 'wah cantonment', 'jhelum',
'bannu', 'abbottabad', 'muridke', 'pakpattan', 'khushab', 'chakwal',
'gojra', 'mandi bahauddin', 'ahmadpur east', 'kamalia', 'vihari'
];

function isPakistanCountry(input) {
const normalizedInput = input.toLowerCase().trim();
return pakistanKeywords.some(keyword => 
normalizedInput.includes(keyword.toLowerCase())
);
}

function isPakistaniCity(input) {
const normalizedInput = input.toLowerCase().trim();
return pakistaniCities.some(city => 
normalizedInput.includes(city.toLowerCase()) || 
city.toLowerCase().includes(normalizedInput)
);
}

function toggleShippingContainers() {
const countryValue = countryInput.value;
const cityValue = cityInput.value;

const isLocalShipping = isPakistanCountry(countryValue) || 
(cityValue.length >= 3 && isPakistaniCity(cityValue));

if (isLocalShipping) {
localShippingContainer.classList.add('active');
internationalShippingContainer.classList.remove('active');
} else {
localShippingContainer.classList.remove('active');
internationalShippingContainer.classList.add('active');
}

// Update the checkout display shipping calculation
updateShippingDisplay();
}

// Add event listeners that trigger both UI updates
countryInput.addEventListener('input', toggleShippingContainers);
cityInput.addEventListener('input', toggleShippingContainers);

// Initial toggle
toggleShippingContainers();

function selectPayment(option) {
document.querySelectorAll('.payment-option').forEach(opt => {
opt.classList.remove('selected');
});
option.classList.add('selected');
}

// Initialize everything when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
initializeCheckoutDisplay();
initializeFormHandler();
});

// Make selectPayment globally available
window.selectPayment = selectPayment;
</script>